[
	{
		"doctype": "Custom HTML Block",
		"name": "Pastel Theme Selector",
		"private": 0,
		"html": "<div class='pastel-theme-page'><div class='pastel-settings-tabs' role='tablist' aria-label='Theme Settings'><button type='button' class='pastel-settings-tab active' data-tab='theme' role='tab' aria-selected='true'><span class='pt-tab-icon' aria-hidden='true'><svg viewBox='0 0 24 24' fill='none'><path d='M12 3a9 9 0 100 18h1a2 2 0 002-2 2 2 0 012-2h1a4 4 0 000-8h-1a2 2 0 01-2-2 2 2 0 00-2-2h-1z' stroke='currentColor' stroke-width='1.8' stroke-linecap='round' stroke-linejoin='round'/><circle cx='8' cy='10' r='1' fill='currentColor'/><circle cx='12' cy='8' r='1' fill='currentColor'/><circle cx='16' cy='10' r='1' fill='currentColor'/></svg></span><span class='pt-tab-label'>Theme</span></button><button type='button' class='pastel-settings-tab' data-tab='font' role='tab' aria-selected='false'><span class='pt-tab-icon' aria-hidden='true'><svg viewBox='0 0 24 24' fill='none'><path d='M5 20L11 4h2l6 16' stroke='currentColor' stroke-width='1.8' stroke-linecap='round' stroke-linejoin='round'/><path d='M8 14h8' stroke='currentColor' stroke-width='1.8' stroke-linecap='round' stroke-linejoin='round'/></svg></span><span class='pt-tab-label'>Font</span></button><button type='button' class='pastel-settings-tab' data-tab='animations' role='tab' aria-selected='false'><span class='pt-tab-icon' aria-hidden='true'><svg viewBox='0 0 24 24' fill='none'><path d='M12 2l1.4 4.2L18 8l-4.6 1.8L12 14l-1.4-4.2L6 8l4.6-1.8L12 2z' stroke='currentColor' stroke-width='1.8' stroke-linejoin='round'/><path d='M19 13l.9 2.6L22 16.5l-2.1.9L19 20l-.9-2.6L16 16.5l2.1-.9L19 13z' stroke='currentColor' stroke-width='1.6' stroke-linejoin='round'/></svg></span><span class='pt-tab-label'>Animations</span></button></div><div class='pastel-settings-content'><div class='pastel-settings-panel active' data-panel='theme' role='tabpanel' aria-hidden='false'><div class='text-muted pastel-theme-description'>Choose a theme preset for your account.</div><div class='pastel-theme-grid'></div></div><div class='pastel-settings-panel' data-panel='font' role='tabpanel' aria-hidden='true'><div class='text-muted pastel-font-description'>Choose a font preset for your account.</div><div class='pastel-font-grid'></div></div><div class='pastel-settings-panel' data-panel='animations' role='tabpanel' aria-hidden='true'><div class='text-muted pastel-animations-description'>Control motion and page transitions.</div><div class='pastel-animations-grid'></div></div></div></div>",
		"style": ".pastel-theme-page{padding:8px 0}.pastel-settings-tabs{display:inline-flex;gap:6px;padding:4px;background:var(--control-bg);border:1px solid var(--border-color);border-radius:999px;position:relative;isolation:isolate;--pt-indicator-x:0px;--pt-indicator-w:0px;--pt-indicator-o:0}.pastel-settings-tabs::before{content:'';position:absolute;top:4px;bottom:4px;left:0;width:var(--pt-indicator-w);transform:translateX(var(--pt-indicator-x));opacity:var(--pt-indicator-o);background:var(--card-bg);border:1px solid var(--dark-border-color);border-radius:999px;box-shadow:var(--shadow-sm);transition:transform .42s cubic-bezier(.16,1,.3,1),width .42s cubic-bezier(.16,1,.3,1),opacity .18s ease;z-index:0}.pastel-settings-tab{border:1px solid transparent;background:transparent;border-radius:999px;padding:8px 14px;font-weight:600;line-height:1;color:var(--text-color);cursor:pointer;position:relative;z-index:1;display:inline-flex;align-items:center;gap:8px;transition:color .22s ease,transform .28s cubic-bezier(.16,1,.3,1)}.pt-tab-icon{width:18px;height:18px;display:inline-flex;align-items:center;justify-content:center;color:var(--primary)}.pt-tab-icon svg{width:18px;height:18px}.pastel-settings-tab:hover{background:var(--subtle-accent)}.pastel-settings-tab.active{background:transparent;border-color:transparent;box-shadow:none}.pastel-settings-tab:focus-visible{outline:2px solid var(--primary);outline-offset:2px}.pastel-settings-content{margin-top:14px}.pastel-settings-panel{position:relative;overflow:hidden;max-height:0;opacity:0;transform:translateY(14px) scale(.985) rotate(-.25deg);pointer-events:none;transition:max-height .55s cubic-bezier(.16,1,.3,1),opacity .32s ease,transform .32s cubic-bezier(.16,1,.3,1);will-change:opacity,transform}.pastel-settings-panel::after{content:'';position:absolute;inset:-10px;pointer-events:none;background:linear-gradient(90deg,rgba(255,255,255,0) 0%,rgba(255,255,255,.28) 35%,rgba(255,255,255,0) 70%);transform:translateX(-60%);opacity:0;filter:blur(10px)}.pastel-settings-panel.active{max-height:9999px;opacity:1;transform:translateY(0) scale(1) rotate(0);pointer-events:auto;animation:pt-panel-in .52s cubic-bezier(.16,1,.3,1)}.pastel-settings-panel.active::after{animation:pt-panel-shimmer .68s ease}@keyframes pt-panel-in{0%{opacity:0;transform:translateY(16px) scale(.98) rotate(-.35deg)}60%{opacity:1;transform:translateY(-2px) scale(1.01) rotate(.12deg)}100%{opacity:1;transform:translateY(0) scale(1) rotate(0)}}@keyframes pt-panel-shimmer{0%{opacity:0;transform:translateX(-70%)}40%{opacity:.14}100%{opacity:0;transform:translateX(70%)}}@media (prefers-reduced-motion: reduce){.pastel-settings-tab,.pastel-settings-panel,.pastel-settings-tabs::before,.pastel-switch,.pastel-switch::before{transition:none}.pastel-settings-panel.active,.pastel-settings-panel.active::after{animation:none}.pastel-transition-card:hover .pt-preview-page{animation:none}}.pastel-theme-page[data-pt-animations='0'] .pastel-settings-tab,.pastel-theme-page[data-pt-animations='0'] .pastel-settings-panel,.pastel-theme-page[data-pt-animations='0'] .pastel-settings-tabs::before{transition:none}.pastel-theme-page[data-pt-animations='0'] .pastel-settings-panel.active,.pastel-theme-page[data-pt-animations='0'] .pastel-settings-panel.active::after{animation:none}.pastel-theme-grid,.pastel-font-grid,.pastel-animations-grid{margin-top:16px;display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:12px}.pastel-theme-card,.pastel-option-card{background:var(--card-bg);border:1px solid var(--border-color);border-radius:var(--border-radius-md,10px);padding:12px;cursor:pointer;transition:box-shadow .15s ease,border-color .15s ease}.pastel-theme-card:hover,.pastel-option-card:hover{border-color:var(--dark-border-color);box-shadow:var(--shadow-sm)}.pastel-option-card.disabled{opacity:.65;cursor:not-allowed}.pastel-option-card.disabled:hover{border-color:var(--border-color);box-shadow:none}.pastel-theme-card.selected,.pastel-option-card.selected{border-color:var(--primary);box-shadow:0 0 0 2px rgba(0,0,0,.08)}.pastel-theme-card.loading,.pastel-option-card.loading,.pastel-transition-card.loading{opacity:.7;pointer-events:none}.pastel-theme-card-title{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px;gap:8px}.pastel-option-card-title{display:flex;align-items:center;justify-content:space-between;gap:12px}.pastel-option-left{display:flex;align-items:center;gap:10px;min-width:0}.pastel-option-icon{width:36px;height:36px;border-radius:12px;border:1px solid var(--border-color);background:var(--bg-color);display:inline-flex;align-items:center;justify-content:center;color:var(--primary);flex:0 0 auto}.pastel-option-icon svg{width:18px;height:18px}.pastel-switch{width:46px;height:26px;border-radius:999px;border:1px solid var(--border-color);background:var(--control-bg);position:relative;padding:0;cursor:pointer;flex:0 0 auto;transition:transform .28s cubic-bezier(.16,1,.3,1)}.pastel-switch::before{content:'';position:absolute;top:3px;left:3px;width:20px;height:20px;border-radius:999px;background:var(--card-bg);border:1px solid var(--dark-border-color);box-shadow:var(--shadow-sm);transition:transform .32s cubic-bezier(.16,1,.3,1),background .2s ease,border-color .2s ease}.pastel-switch.on{background:var(--subtle-accent);border-color:var(--dark-border-color)}.pastel-switch.on::before{transform:translateX(20px);background:var(--primary);border-color:var(--primary);box-shadow:none}.pastel-switch:focus-visible{outline:2px solid var(--primary);outline-offset:2px}.pastel-option-card.disabled .pastel-switch{cursor:not-allowed;opacity:.7}.pastel-option-card.disabled .pastel-switch::before{box-shadow:none}.pastel-switch:disabled{cursor:not-allowed}.pastel-transition-style{margin-top:2px;grid-column:1/-1}.pastel-transition-style-head{display:flex;align-items:baseline;justify-content:space-between;gap:12px;margin:10px 2px 12px;flex-wrap:wrap}.pastel-transition-style-title{font-weight:700}.pastel-transition-style-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:10px}.pastel-transition-card{background:var(--card-bg);border:1px solid var(--border-color);border-radius:var(--border-radius-md,10px);padding:12px;cursor:pointer;transition:box-shadow .15s ease,border-color .15s ease,transform .22s cubic-bezier(.16,1,.3,1)}.pastel-transition-card:hover{border-color:var(--dark-border-color);box-shadow:var(--shadow-sm);transform:translateY(-1px)}.pastel-transition-card.selected{border-color:var(--primary);box-shadow:0 0 0 2px rgba(0,0,0,.08)}.pastel-transition-card.disabled{opacity:.65;cursor:not-allowed;transform:none}.pastel-transition-card.disabled:hover{border-color:var(--border-color);box-shadow:none}.pastel-transition-card-label{font-weight:650}.pastel-transition-preview{margin-top:10px;height:54px;border:1px solid var(--border-color);border-radius:12px;background:var(--bg-color);position:relative;overflow:hidden}.pt-preview-bar{position:absolute;top:12px;left:12px;right:12px;height:10px;border-radius:999px;background:var(--subtle-fg);opacity:.65}.pt-preview-page{position:absolute;bottom:12px;left:12px;height:10px;width:58%;border-radius:999px;background:var(--primary);opacity:.85;transform-origin:left center}@keyframes pt-preview-soft{0%{opacity:0;transform:translateY(10px) scale(.98)}100%{opacity:.85;transform:translateY(0) scale(1)}}@keyframes pt-preview-slide{0%{opacity:0;transform:translateX(22px)}100%{opacity:.85;transform:translateX(0)}}@keyframes pt-preview-zoom{0%{opacity:0;transform:scale(.9);filter:blur(4px)}100%{opacity:.85;transform:scale(1);filter:blur(0)}}@keyframes pt-preview-glide{0%{opacity:0;transform:translateY(14px) translateX(10px) rotate(.2deg)}100%{opacity:.85;transform:translateY(0) translateX(0) rotate(0)}}@keyframes pt-preview-stack{0%{opacity:0;transform:translateY(16px) rotate(.3deg) scale(.98)}70%{opacity:.85;transform:translateY(-2px) rotate(-.12deg) scale(1.01)}100%{opacity:.85;transform:translateY(0) rotate(0) scale(1)}}.pastel-transition-card[data-style='soft']:hover .pt-preview-page{animation:pt-preview-soft .55s cubic-bezier(.16,1,.3,1)}.pastel-transition-card[data-style='slide']:hover .pt-preview-page{animation:pt-preview-slide .45s cubic-bezier(.16,1,.3,1)}.pastel-transition-card[data-style='zoom']:hover .pt-preview-page{animation:pt-preview-zoom .5s cubic-bezier(.16,1,.3,1)}.pastel-transition-card[data-style='glide']:hover .pt-preview-page{animation:pt-preview-glide .55s cubic-bezier(.16,1,.3,1)}.pastel-transition-card[data-style='stack']:hover .pt-preview-page{animation:pt-preview-stack .58s cubic-bezier(.16,1,.3,1)}.pastel-theme-page[data-pt-animations='0'] .pastel-transition-card:hover .pt-preview-page{animation:none}.pastel-theme-preview{border:1px solid var(--border-color);border-radius:10px;overflow:hidden}.pastel-theme-preview .navbar{height:14px;background:var(--pt-navbar)}.pastel-theme-preview .body{padding:10px;background:var(--pt-bg)}.pastel-theme-preview .chip{height:10px;width:64%;border-radius:999px;background:var(--pt-subtle);margin-bottom:8px}.pastel-theme-preview .button{height:10px;width:40%;border-radius:999px;background:var(--pt-primary)}.pastel-font-preview{border:1px solid var(--border-color);border-radius:10px;padding:12px;background:var(--bg-color)}.pastel-font-preview .sample{font-size:18px;font-weight:600;line-height:1.2}.pastel-font-preview .caption{margin-top:4px;font-size:12px}",
		"script": "(() => { 'use strict'; const STORAGE_KEY = 'frappe_pastel_theme.settings_tab'; const VALID_TABS = new Set(['theme', 'font', 'animations']); let current_tab = 'theme'; const update_indicator = () => { const tabs = root_element?.querySelector?.('.pastel-settings-tabs'); if (!tabs) return; const btn = tabs.querySelector(`.pastel-settings-tab[data-tab='${current_tab}']`); if (!btn) return; const tabs_rect = tabs.getBoundingClientRect(); const btn_rect = btn.getBoundingClientRect(); const x = Math.round(btn_rect.left - tabs_rect.left); const w = Math.round(btn_rect.width); tabs.style.setProperty('--pt-indicator-x', `${x}px`); tabs.style.setProperty('--pt-indicator-w', `${w}px`); tabs.style.setProperty('--pt-indicator-o', '1'); }; const set_active_tab = (tab) => { tab = (tab || 'theme').trim() || 'theme'; if (!VALID_TABS.has(tab)) tab = 'theme'; if (!root_element || !root_element.querySelectorAll) return; current_tab = tab; root_element.querySelectorAll('.pastel-settings-tab').forEach((btn) => { const is_active = (btn.getAttribute('data-tab') || '') === tab; btn.classList.toggle('active', is_active); btn.setAttribute('aria-selected', is_active ? 'true' : 'false'); }); root_element.querySelectorAll('.pastel-settings-panel').forEach((panel) => { const is_active = (panel.getAttribute('data-panel') || '') === tab; panel.classList.toggle('active', is_active); panel.setAttribute('aria-hidden', is_active ? 'false' : 'true'); try { panel.inert = !is_active; } catch (e) {} }); requestAnimationFrame(update_indicator); try { localStorage.setItem(STORAGE_KEY, tab); } catch (e) {} }; const setup_tabs = () => { if (!root_element || !root_element.querySelectorAll) return; if (root_element.__pastelTabsReady) return; root_element.__pastelTabsReady = true; root_element.querySelectorAll('.pastel-settings-tab').forEach((btn) => { btn.addEventListener('click', () => set_active_tab(btn.getAttribute('data-tab'))); }); let initial = 'theme'; try { const saved = (localStorage.getItem(STORAGE_KEY) || '').trim(); if (VALID_TABS.has(saved)) initial = saved; } catch (e) {} set_active_tab(initial); }; setup_tabs(); let resize_raf = 0; window.addEventListener('resize', () => { if (resize_raf) cancelAnimationFrame(resize_raf); resize_raf = requestAnimationFrame(update_indicator); }, { passive: true }); try { const obs = new MutationObserver(() => requestAnimationFrame(update_indicator)); obs.observe(document.documentElement, { attributes: true, attributeFilter: ['data-pastel-font'] }); } catch (e) {} const try_render = () => { try { const widget = root_element?.host?.closest?.('.widget'); if (widget) widget.classList.add('pastel-theme-widget'); } catch (e) {} const api = window.frappe_pastel_theme; if (!api?.render_theme_picker || !api?.render_font_picker || !api?.render_animations_picker) return false; api.render_theme_picker(root_element, { include_default: true }); api.render_font_picker(root_element, { include_default: true }); api.render_animations_picker(root_element); api.apply_local_preferences?.(root_element); setup_tabs(); requestAnimationFrame(update_indicator); return true; }; if (try_render()) return; let tries = 0; const timer = setInterval(() => { tries += 1; if (try_render() || tries > 50) clearInterval(timer); }, 100); })();",
		"roles": []
	}
]
