[
	{
		"doctype": "Custom HTML Block",
		"name": "Pastel Theme Selector",
		"private": 0,
		"html": "<div class=\"pastel-theme-page\"><div class=\"pastel-settings-tabs\" role=\"tablist\" aria-label=\"Theme Settings\"><button type=\"button\" class=\"pastel-settings-tab active\" data-tab=\"theme\" role=\"tab\" aria-selected=\"true\">Theme</button><button type=\"button\" class=\"pastel-settings-tab\" data-tab=\"font\" role=\"tab\" aria-selected=\"false\">Font</button></div><div class=\"pastel-settings-content\"><div class=\"pastel-settings-panel active\" data-panel=\"theme\" role=\"tabpanel\" aria-hidden=\"false\"><div class=\"text-muted pastel-theme-description\">Choose a theme preset for your account.</div><div class=\"pastel-theme-grid\"></div></div><div class=\"pastel-settings-panel\" data-panel=\"font\" role=\"tabpanel\" aria-hidden=\"true\"><div class=\"text-muted pastel-font-description\">Choose a font preset for your account.</div><div class=\"pastel-font-grid\"></div></div></div></div>",
		"style": ".pastel-theme-page{padding:8px 0}.pastel-settings-tabs{display:inline-flex;gap:6px;padding:4px;background:var(--control-bg);border:1px solid var(--border-color);border-radius:999px;position:relative;isolation:isolate;--pt-indicator-x:0px;--pt-indicator-w:0px;--pt-indicator-o:0}.pastel-settings-tabs::before{content:'';position:absolute;top:4px;bottom:4px;left:0;width:var(--pt-indicator-w);transform:translateX(var(--pt-indicator-x));opacity:var(--pt-indicator-o);background:var(--card-bg);border:1px solid var(--dark-border-color);border-radius:999px;box-shadow:var(--shadow-sm);transition:transform .42s cubic-bezier(.16,1,.3,1),width .42s cubic-bezier(.16,1,.3,1),opacity .18s ease;z-index:0}.pastel-settings-tab{border:1px solid transparent;background:transparent;border-radius:999px;padding:8px 14px;font-weight:600;line-height:1;color:var(--text-color);cursor:pointer;position:relative;z-index:1;transition:color .22s ease,transform .28s cubic-bezier(.16,1,.3,1)}.pastel-settings-tab:hover{background:var(--subtle-accent)}.pastel-settings-tab.active{background:transparent;border-color:transparent;box-shadow:none}.pastel-settings-tab:focus-visible{outline:2px solid var(--primary);outline-offset:2px}.pastel-settings-content{margin-top:14px}.pastel-settings-panel{position:relative;overflow:hidden;max-height:0;opacity:0;transform:translateY(14px) scale(.985) rotate(-.25deg);pointer-events:none;transition:max-height .55s cubic-bezier(.16,1,.3,1),opacity .32s ease,transform .32s cubic-bezier(.16,1,.3,1);will-change:opacity,transform}.pastel-settings-panel::after{content:'';position:absolute;inset:-10px;pointer-events:none;background:linear-gradient(90deg,rgba(255,255,255,0) 0%,rgba(255,255,255,.28) 35%,rgba(255,255,255,0) 70%);transform:translateX(-60%);opacity:0;filter:blur(10px)}.pastel-settings-panel.active{max-height:9999px;opacity:1;transform:translateY(0) scale(1) rotate(0);pointer-events:auto;animation:pt-panel-in .52s cubic-bezier(.16,1,.3,1)}.pastel-settings-panel.active::after{animation:pt-panel-shimmer .68s ease}@keyframes pt-panel-in{0%{opacity:0;transform:translateY(16px) scale(.98) rotate(-.35deg)}60%{opacity:1;transform:translateY(-2px) scale(1.01) rotate(.12deg)}100%{opacity:1;transform:translateY(0) scale(1) rotate(0)}}@keyframes pt-panel-shimmer{0%{opacity:0;transform:translateX(-70%)}40%{opacity:.14}100%{opacity:0;transform:translateX(70%)}}@media (prefers-reduced-motion: reduce){.pastel-settings-tab,.pastel-settings-panel,.pastel-settings-tabs::before{transition:none}.pastel-settings-panel.active,.pastel-settings-panel.active::after{animation:none}}.pastel-theme-grid,.pastel-font-grid{margin-top:16px;display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:12px}.pastel-theme-card{background:var(--card-bg);border:1px solid var(--border-color);border-radius:var(--border-radius-md,10px);padding:12px;cursor:pointer;transition:box-shadow .15s ease,border-color .15s ease}.pastel-theme-card:hover{border-color:var(--dark-border-color);box-shadow:var(--shadow-sm)}.pastel-theme-card.selected{border-color:var(--primary);box-shadow:0 0 0 2px rgba(0,0,0,.08)}.pastel-theme-card.loading{opacity:.7;pointer-events:none}.pastel-theme-card-title{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px;gap:8px}.pastel-theme-preview{border:1px solid var(--border-color);border-radius:10px;overflow:hidden}.pastel-theme-preview .navbar{height:14px;background:var(--pt-navbar)}.pastel-theme-preview .body{padding:10px;background:var(--pt-bg)}.pastel-theme-preview .chip{height:10px;width:64%;border-radius:999px;background:var(--pt-subtle);margin-bottom:8px}.pastel-theme-preview .button{height:10px;width:40%;border-radius:999px;background:var(--pt-primary)}.pastel-font-preview{border:1px solid var(--border-color);border-radius:10px;padding:12px;background:var(--bg-color)}.pastel-font-preview .sample{font-size:18px;font-weight:600;line-height:1.2}.pastel-font-preview .caption{margin-top:4px;font-size:12px}",
		"script": "(() => { 'use strict'; const STORAGE_KEY = 'frappe_pastel_theme.settings_tab'; const VALID_TABS = new Set(['theme', 'font']); let current_tab = 'theme'; const update_indicator = () => { const tabs = root_element?.querySelector?.('.pastel-settings-tabs'); if (!tabs) return; const btn = tabs.querySelector(`.pastel-settings-tab[data-tab='${current_tab}']`); if (!btn) return; const tabs_rect = tabs.getBoundingClientRect(); const btn_rect = btn.getBoundingClientRect(); const x = Math.round(btn_rect.left - tabs_rect.left); const w = Math.round(btn_rect.width); tabs.style.setProperty('--pt-indicator-x', `${x}px`); tabs.style.setProperty('--pt-indicator-w', `${w}px`); tabs.style.setProperty('--pt-indicator-o', '1'); }; const set_active_tab = (tab) => { tab = (tab || 'theme').trim() || 'theme'; if (!VALID_TABS.has(tab)) tab = 'theme'; if (!root_element || !root_element.querySelectorAll) return; current_tab = tab; root_element.querySelectorAll('.pastel-settings-tab').forEach((btn) => { const is_active = (btn.getAttribute('data-tab') || '') === tab; btn.classList.toggle('active', is_active); btn.setAttribute('aria-selected', is_active ? 'true' : 'false'); }); root_element.querySelectorAll('.pastel-settings-panel').forEach((panel) => { const is_active = (panel.getAttribute('data-panel') || '') === tab; panel.classList.toggle('active', is_active); panel.setAttribute('aria-hidden', is_active ? 'false' : 'true'); try { panel.inert = !is_active; } catch (e) {} }); requestAnimationFrame(update_indicator); try { localStorage.setItem(STORAGE_KEY, tab); } catch (e) {} }; const setup_tabs = () => { if (!root_element || !root_element.querySelectorAll) return; if (root_element.__pastelTabsReady) return; root_element.__pastelTabsReady = true; root_element.querySelectorAll('.pastel-settings-tab').forEach((btn) => { btn.addEventListener('click', () => set_active_tab(btn.getAttribute('data-tab'))); }); let initial = 'theme'; try { const saved = (localStorage.getItem(STORAGE_KEY) || '').trim(); if (VALID_TABS.has(saved)) initial = saved; } catch (e) {} set_active_tab(initial); }; setup_tabs(); let resize_raf = 0; window.addEventListener('resize', () => { if (resize_raf) cancelAnimationFrame(resize_raf); resize_raf = requestAnimationFrame(update_indicator); }, { passive: true }); try { const obs = new MutationObserver(() => requestAnimationFrame(update_indicator)); obs.observe(document.documentElement, { attributes: true, attributeFilter: ['data-pastel-font'] }); } catch (e) {} const try_render = () => { try { const widget = root_element?.host?.closest?.('.widget'); if (widget) widget.classList.add('pastel-theme-widget'); } catch (e) {} const api = window.frappe_pastel_theme; if (!api?.render_theme_picker || !api?.render_font_picker) return false; api.render_theme_picker(root_element, { include_default: true }); api.render_font_picker(root_element, { include_default: true }); setup_tabs(); requestAnimationFrame(update_indicator); return true; }; if (try_render()) return; let tries = 0; const timer = setInterval(() => { tries += 1; if (try_render() || tries > 50) clearInterval(timer); }, 100); })();",
		"roles": []
	}
]
